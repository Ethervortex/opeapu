{% extends "base.html" %}
{% block title %}Kurssit{% endblock %}
{% block link %}
    {% if session.username %}
        {{ super() }}
    {% endif %}
{% endblock %}
{% block content %}
    <h2>Kurssit</h2>
    <div class="button-container">
        <button id="new-course-button">Lis채채 kurssi</button>
    </div>

    <div id="new-course-form" style="display: none;">
        <form action="/courses" method="POST">
            <label for="course-name">Kurssin nimi:</label>
            <input type="text" id="course-name" name="course_name" required>
            <button type="submit">Tallenna</button>
            <button type="button" id="cancel-button">Peruuta</button>
        </form>
    </div>
    <br>
    <table>
        <tbody>
            {% for course in courses %}
                <tr>
                    <td><span class="course-name">{{ course.name }}</span></td>
                    <td><a href="{{ url_for('course_students', course_id=course.id) }}"><button>Lis채채 oppilaita</button></a></td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <script>
        // JavaScript to show/hide the new course form
        document.getElementById("new-course-button").addEventListener("click", () => {
            document.getElementById("new-course-form").style.display = "block";
        });

        document.getElementById("cancel-button").addEventListener("click", () => {
            document.getElementById("new-course-form").style.display = "none";
        });
    </script>
{% endblock %}